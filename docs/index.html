<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Virtual: üóúÔ∏è Compressing Parquet Files Using Functions</title>
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.14/codemirror.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.14/theme/neo.min.css" />
  <link href='https://fonts.googleapis.com/css?family=Inter' rel='stylesheet'>
  <link rel="stylesheet" href="assets/index.css">
</head>
<body>
  <script>
    const fullTitle = 'Virtual: Compressing Parquet Files Using Functions';
    let i = 0;
    function typeTitle() {
      if (i <= fullTitle.length) {
        document.getElementById('dynamic-title').textContent = fullTitle.slice(0, i);
        i++;
        setTimeout(typeTitle, 50);
      }
    }
    window.onload = typeTitle;
  </script>
  
  <nav>
    <ul>
      <li>
        <a href="https://github.com/utndatasystems/virtual">
          <img src="assets/github.svg" alt="GitHub" style="height: 20px; vertical-align: middle;">
          Home
        </a>
      </li>
      <li><a href="https://github.com/utndatasystems/virtual/tree/main/examples">Examples</a></li>
      <li><a href="game.html">üéÆ Game</a></li>
    </ul>
  </nav>

  <h1 id="dynamic-title"></h1>
  <br />
  <br />
  <p style="font-size: 30px;">What table should I virtualize for you today?</p>
  <div id="main-container">
    <div id="drag-drop-area">
      <span>
        <img src="assets/csv.svg">  
        <img src="assets/parquet.png" width="60" height="60" style="margin-bottom: -0.75em;"></img>
      </span>
    </div>   
    <div id="editor-container">
      <textarea id="query-box">
import virtual

virtual.to_format(
  's3://<your_s3_filepath>',
  'demo_virtual.parquet'
)</textarea>
    </div>
  </div>
  <p div="recom">Or try it yourself!</p>
  <code>pip install virtual-parquet</code>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.14/codemirror.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.14/mode/python/python.min.js"></script>
  
  <script>
    const editor = CodeMirror.fromTextArea(document.getElementById("query-box"), {
      lineNumbers: true,
      mode: "python",
      theme: "neo",
      extraKeys: {
        "Ctrl-Space": "autocomplete",
        "Enter": (cm) => {
          const code = cm.getValue();
          console.log("Code to be executed:", code);
          // TODO: Send this code to the server
        },
      },
      lineWrapping: true,
      matchBrackets: true,
    });

    // editor.setSize("30vw", "auto");
  </script>
</body>
</html>